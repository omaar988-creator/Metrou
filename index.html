<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Metrou App | Ø±Ø­Ù„Ø© Ø§Ù„ØªØ¹Ù„Ù…</title>
    <style>
        :root { --primary: #2e7d32; --bg: #121212; --card: #1e1e1e; --text: #ffffff; }
        body { background: var(--bg); color: var(--text); font-family: 'Segoe UI', sans-serif; margin: 0; padding: 0; }
        .header { background: linear-gradient(135deg, #1a237e, #4a148c); padding: 30px 20px; border-bottom-left-radius: 30px; border-bottom-right-radius: 30px; }
        .stats-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-top: -25px; padding: 0 20px; }
        .stat-card { background: var(--card); padding: 15px; border-radius: 20px; text-align: center; box-shadow: 0 4px 15px rgba(0,0,0,0.3); }
        .main-container { padding: 20px; }
        .ai-section { background: var(--card); border-radius: 25px; padding: 20px; margin-top: 20px; border: 1px solid #333; }
        .btn-ai { background: var(--primary); color: white; border: none; padding: 15px; border-radius: 15px; width: 100%; font-size: 18px; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 10px; }
        .station-line { height: 5px; background: #333; margin: 40px 0; position: relative; }
        .station-dot { width: 40px; height: 40px; background: var(--primary); border-radius: 50%; position: absolute; top: -17px; display: flex; align-items: center; justify-content: center; font-size: 12px; }
        #inspector-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); display: none; z-index: 1000; flex-direction: column; align-items: center; justify-content: center; }
    </style>
</head>
<body>

    <div class="header">
        <h2>Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ Ù…ØªØ±Ùˆ! ğŸ‘‹</h2>
        <p>Ø¯Ø¹Ù†Ø§ Ù†ÙˆØ§ØµÙ„ Ø±Ø­Ù„Ø© Ø§Ù„ÙØ±Ù†Ø³ÙŠØ© Ø§Ù„ÙŠÙˆÙ…</p>
    </div>

    <div class="stats-grid">
        <div class="stat-card">âš¡ <span>5</span><br><small>Ø·Ø§Ù‚Ø©</small></div>
        <div class="stat-card">â­ <span>120</span><br><small>Ù†Ù‚Ø§Ø·</small></div>
        <div class="stat-card">ğŸ”¥ <span>3</span><br><small>Ø£ÙŠØ§Ù…</small></div>
    </div>

    <div class="main-container">
        <div class="ai-section">
            <button class="btn-ai" onclick="askAI()">
                <span>âœ¨</span> ask AI
            </button>
            <div id="ai-response" style="margin-top: 15px; font-size: 14px; color: #bbb; line-height: 1.6;"></div>
        </div>

        <div class="station-line">
            <div class="station-dot" style="right: 10%;">A1</div>
            <div class="station-dot" style="right: 50%; background: #555;">A2</div>
            <div class="station-dot" style="right: 90%; background: #555;">B1</div>
        </div>
    </div>

    <div id="inspector-overlay">
        <h1 style="font-size: 80px;">ğŸ‘®â€â™‚ï¸</h1>
        <h2 style="color: #f44336;">ØªÙØªÙŠØ´ Ù…ÙØ§Ø¬Ø¦!</h2>
        <p id="punishment-text" style="padding: 20px; text-align: center;"></p>
        <button onclick="closeInspector()" style="background: white; color: black; padding: 10px 30px; border-radius: 20px; border: none;">Ø³Ø£ÙØ¹Ù„ Ø°Ù„Ùƒ! ğŸ˜…</button>
    </div>

    <script>
        const API_URL = "https://metrou-db.onrender.com";

        async function askAI() {
            const respDiv = document.getElementById('ai-response');
            respDiv.innerText = "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù€ Gemini...";
            try {
                const res = await fetch(`${API_URL}/api/ai/explain`, {
                    method: "POST",
                    headers: {"Content-Type": "application/json"},
                    body: JSON.stringify({ topic: "Ø§Ù„Ù…Ø§Ø¶ÙŠ ÙÙŠ Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©" })
                });
                const data = await res.json();
                respDiv.innerText = data.explanation;
            } catch (e) { respDiv.innerText = "Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø³ÙŠØ±ÙØ±"; }
        }

        function showInspector() {
            const overlay = document.getElementById('inspector-overlay');
            const pText = document.getElementById('punishment-text');
            overlay.style.display = 'flex';
            pText.innerText = "Ù„Ù‚Ø¯ ØªÙ… Ø¶Ø¨Ø·Ùƒ Ø¨Ø¯ÙˆÙ† ØªØ°ÙƒØ±Ø© Ù„ØºÙˆÙŠØ©! Ø¹Ù‚Ø§Ø¨Ùƒ: Ù‚Ù Ø¹Ù„Ù‰ Ù‚Ø¯Ù… ÙˆØ§Ø­Ø¯Ø© ÙˆØ§Ù†Ø·Ù‚ 'Bonjour' Ø¨ØµÙˆØª Ø¹Ø§Ù„Ù 5 Ù…Ø±Ø§Øª!";
        }

        function closeInspector() { document.getElementById('inspector-overlay').style.display = 'none'; }
        
        // ØªÙØªÙŠØ´ Ù…ÙØ§Ø¬Ø¦ Ø¨Ø¹Ø¯ 10 Ø«ÙˆØ§Ù†Ù
        setTimeout(showInspector, 10000);
    </script>
</body>
</html>
